(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2339],{77919:function(n,e,t){"use strict";t.d(e,{g:function(){return un},ZP:function(){return Qt}});var o=t(919),i=t(13725),r=t(3846),a=t(41532),s=t(16946),c=t(83285),l=t(10151),u=t(57291),d=t(77551),p=t(80891),f=t(66115),h=t(64457),v=t(23723),m=t(12338),g=t(35064),x=t(45077),y=t(30601),b=t(45596),w=t(43880),R=t(72593),k=t(19324),j=t(59904),_=t(84792),C=t(86458),S=t(9650),O=t(76573),I=t(97368),E=t(31938),T=t(13462),N=t(90178),Z=t(7129),P=t(19218),L=t(61889),M=t(34260),U=t(63896),D=t(43090),A=t(75528),z=t(72841),F=t(99398),B=t(57110),K=t(85893),Y=t(67294),H=t(186),G=t(9669),q=t.n(G),W=t(58971),J=t.n(W),X=function(n,e){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},X(n,e)};function V(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}X(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var Q,$=function(){return $=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},$.apply(this,arguments)};function nn(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{c(o.next(n))}catch(e){r(e)}}function s(n){try{c(o.throw(n))}catch(e){r(e)}}function c(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}c((o=o.apply(n,e||[])).next())}))}function en(n,e){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(n,a)}catch(s){r=[6,s],o=0}finally{t=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function tn(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function on(){return on=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},on.apply(this,arguments)}var rn,an,sn,cn,ln,un,dn=(0,H.keyframes)(rn||(rn=tn(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"],["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),pn=(0,H.default)((function(n){return Y.createElement("svg",on({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},n),Q||(Q=Y.createElement("path",{d:"M12.58 2.23a6.41 6.41 0 0 1 2.072 1.92c1.01 1.469 1.465 3.083 1.322 4.848-.118 1.46-.619 2.791-1.535 3.953-1.278 1.62-2.976 2.563-5.042 2.934-3.388.608-7.37-1.224-8.811-4.902C.145 9.856-.07 8.689.021 7.485.286 3.967 2.809 1.225 6.018.318A8.543 8.543 0 0 1 8.292 0c.515-.004.943.372.96.845.018.507-.375.924-.911.936-.909.022-1.803.118-2.65.458-2.164.87-3.595 2.419-4.117 4.618-.956 4.03 1.737 7.444 5.37 8.186 2.138.437 4.09.011 5.831-1.273 1.325-.977 2.222-2.265 2.6-3.83.725-2.994-.147-5.511-2.552-7.519-.08-.066-.162-.128-.243-.191"})))}))(an||(an=tn(["\n  width: 20px;\n  height: 20px;\n  fill: #ccc;\n  animation: "," 2s infinite linear;\n"],["\n  width: 20px;\n  height: 20px;\n  fill: #ccc;\n  animation: "," 2s infinite linear;\n"])),dn),fn=function(n){var e=n.configPromise,t=n.setJwt,o=n.getUserReactionsFetchKey,i=n.setUserReactionsFetchKey,r=n.getUserReactionsFromSdk,a=n.setUserReactionsToSdk;return function(n){var s;return(s=function(s){function c(n){var e=s.call(this,n)||this;return e.config=null,e.state={isConfigReady:!1},e.getUserReactionsFetchKey=o,e.setUserReactionsFetchKey=i,e.getUserReactionsFromSdk=r,e.setUserReactionsToSdk=a,e}return V(c,s),c.prototype.componentDidMount=function(){var n=this;e.then((function(e){n.config=e,n.setState({isConfigReady:!0})})).catch((function(n){console.error(n)}))},c.prototype.componentDidUpdate=function(){var n=this.props.jwt;t(n)},c.prototype.render=function(){var e=this.state.isConfigReady,t=this.props;t.jwt;var o=function(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(n);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(n,o[i])&&(t[o[i]]=n[o[i]])}return t}(t,["jwt"]),i=$({config:this.config,getUserReactionsFetchKey:this.getUserReactionsFetchKey,setUserReactionsFetchKey:this.setUserReactionsFetchKey,getUserReactionsFromSdk:this.getUserReactionsFromSdk,setUserReactionsToSdk:this.setUserReactionsToSdk},o);return e?(0,K.jsx)(n,$({},i),void 0):(0,K.jsx)("div",{children:(0,K.jsx)(pn,{},void 0)},void 0)},c}(Y.Component)).displayName="withInitialization(".concat(n.name,")"),s}},hn={development:{baseURL:"https://dev-social-reaction-api.hktester.com/api/v1"},staging:{baseURL:"https://social-reaction-api.hktester.com/api/v1"},production:{baseURL:"https://social-reaction-api.hk01.com/api/v1"}},vn=function(n){if(!hn[n])throw Error("INVALID env ".concat(n));return hn[n]};!function(n){n.SINGLE="single",n.MULTI_ONE="multiplePick1"}(sn||(sn={})),function(n){n.SECONDARY="secondary",n.REACTION_BAR="reactionBar",n.SUMMARY="summary",n.CLICKABLE_SUMMARY="clickableSummary"}(cn||(cn={})),function(n){n.LIKE="like",n.HEART="heart",n.SAD="sad",n.LAUGH="laugh",n.ANGRY="angry"}(ln||(ln={})),function(n){n.INDEPENDENT="independent",n.SINGLETON="singleton",n.CONTEXT_KEY="context_key"}(un||(un={}));var mn,gn=function(n){for(var e=[{number:1e9,abbr:"b"},{number:1e6,abbr:"m"},{number:1e3,abbr:"k"}],t=0;t<e.length;t++){var o=e[t];if(n>o.number-1){var i=n-o.number<o.number/10?0:1,r=n-n%(o.number/10);return"".concat((r/o.number).toFixed(i)).concat(o.abbr)}}return String(n)},xn=function(n,e){return o.Z(i.Z(0),r.Z(0,"count"),a.Z(s.Z("reactionId",n)))(e)},yn=function(n,e){return c.Z(s.Z("reactionId",n),e)},bn=function(n,e,t){var o=t.reactionId,i=yn(o,n),r=yn(o,e),a=l.Z(0,[r,"count"],e);return-1===i||-1===r?n:u.Z(d.Z([i,"total"]),p.Z(-a),n)},wn=function(n,e){var t=e.reactionId;return f.Z(s.Z("reactionId",t),n)};function Rn(){return Rn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Rn.apply(this,arguments)}var kn,jn,_n,Cn,Sn,On,In,En,Tn,Nn,Zn,Pn,Ln,Mn,Un,Dn,An,zn,Fn,Bn,Kn,Yn=function(n){return Y.createElement("svg",Rn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n),mn||(mn=Y.createElement("path",{d:"M2.639 10.097c-.118.104-.14.165-.14.25v8.712a.29.29 0 0 0 .07.203l2.943.046c.117-.104.138-.165.138-.249v-8.712a.287.287 0 0 0-.07-.203l-.068-.047H2.639zm2.873 10.211H2.639a1.07 1.07 0 0 1-.83-.398 1.289 1.289 0 0 1-.31-.85v-8.713c0-.325.105-.61.31-.852a1.07 1.07 0 0 1 .83-.398h2.873c.32 0 .607.138.829.398.205.241.309.527.309.852v8.712c0 .32-.107.614-.31.851a1.068 1.068 0 0 1-.828.398zM17.483 21h-4.807c-1.16 0-1.862-.242-2.28-.387l-.128-.043c-.394-.131-.779-.361-1.118-.565l-.139-.083c-.847-.502-.89-.553-.945-.618a.5.5 0 0 1 .71-.7c.101.072.438.276.745.458l.143.085c.295.178.63.378.918.474l.14.047c.383.132.961.332 1.954.332h4.807c.714 0 1.271-.381 1.42-.97.142-.563-.316-.83-.41-.878a.502.502 0 0 1 .223-.947c.545 0 .941-.343 1.033-.894.117-.71-.346-.953-.35-.956a.5.5 0 0 1 .225-.946c.54 0 1.027-.384 1.11-.874a.91.91 0 0 0-.434-.978.506.506 0 0 1-.25-.565.498.498 0 0 1 .481-.379c.475 0 .862-.403.862-.897 0-.495-.387-.898-.862-.898h-4.085a.499.499 0 0 1-.449-.719c1.098-2.254.88-4.94.864-5.105a.555.555 0 0 1-.007-.082c0-.565-.504-.839-.934-.902a1.845 1.845 0 0 0-.633.047c-.325.116-.553.475-.553.874v.472c-.008 1.756-.5 2.38-1.32 3.414-.604.764-2.268 1.711-3.605 2.473-.578.329-1.077.613-1.353.805a.5.5 0 0 1-.57-.822c.313-.216.83-.511 1.428-.852 1.195-.681 2.832-1.613 3.316-2.225.8-1.009 1.098-1.386 1.104-2.796v-.469c0-.827.49-1.557 1.218-1.816.206-.073.7-.154 1.113-.094 1.051.154 1.787.931 1.79 1.889h-.014c.105.752.12 2.899-.637 4.908h3.327c1.027 0 1.862.851 1.862 1.898 0 .696-.37 1.306-.92 1.637.207.339.34.79.247 1.346-.11.661-.56 1.212-1.16 1.498.163.311.265.73.175 1.277-.112.675-.496 1.206-1.038 1.494.2.335.31.774.176 1.307-.262 1.032-1.222 1.725-2.39 1.725",fillRule:"evenodd"})))},Hn=H.default.div(kn||(kn=tn(["\n  display: flex;\n  justify-content: center;\n  background-color: #fff;\n  margin-top: 10px;\n  margin-left: 16px;\n  padding: 0 16px;\n  border-radius: 34px;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);\n  transition: all 0.2s ease-in-out;\n"],["\n  display: flex;\n  justify-content: center;\n  background-color: #fff;\n  margin-top: 10px;\n  margin-left: 16px;\n  padding: 0 16px;\n  border-radius: 34px;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);\n  transition: all 0.2s ease-in-out;\n"]))),Gn=H.default.div(jn||(jn=tn(["\n  display: flex;\n  justify-content: center;\n"],["\n  display: flex;\n  justify-content: center;\n"]))),qn=H.default.div(Cn||(Cn=tn(["\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 5px;\n  margin: 3px 0;\n  font-size: 12px;\n  ",";\n"],["\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 5px;\n  margin: 3px 0;\n  font-size: 12px;\n  ",";\n"])),(function(n){return n.isActive&&(0,H.css)(_n||(_n=tn(["\n      > .reaction_count {\n        color: #0033e8;\n      }\n    "],["\n      > .reaction_count {\n        color: #0033e8;\n      }\n    "])))})),Wn=H.default.div(On||(On=tn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 44px;\n  height: 44px;\n  margin: 0;\n  position: relative;\n  transition: all 0.2s ease-in-out;\n\n  ",";\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 44px;\n  height: 44px;\n  margin: 0;\n  position: relative;\n  transition: all 0.2s ease-in-out;\n\n  ",";\n"])),(function(n){return n.isActive&&(0,H.css)(Sn||(Sn=tn(["\n      > img {\n        width: 44px;\n        height: 44px;\n        transition: all 0.2s ease-in-out;\n      }\n    "],["\n      > img {\n        width: 44px;\n        height: 44px;\n        transition: all 0.2s ease-in-out;\n      }\n    "])))})),Jn=H.default.img(In||(In=tn(["\n  display: block;\n  width: 34px;\n  height: 34px;\n  transition: all 0.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);\n"],["\n  display: block;\n  width: 34px;\n  height: 34px;\n  transition: all 0.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);\n"]))),Xn=H.default.div(En||(En=tn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgba(0, 0, 0, 0.87);\n  font-size: 12px;\n  margin-top: 1px;\n  text-align: center;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgba(0, 0, 0, 0.87);\n  font-size: 12px;\n  margin-top: 1px;\n  text-align: center;\n"]))),Vn=H.default.div(Tn||(Tn=tn(["\n  position: absolute;\n  left: 12px;\n  bottom: 45px;\n  display: ",";\n"],["\n  position: absolute;\n  left: 12px;\n  bottom: 45px;\n  display: ",";\n"])),(function(n){return n.isShowReactionBar?"flex":"none"})),Qn=H.default.div(Nn||(Nn=tn(["\n  margin-left: 4px;\n  font-size: 12px;\n  color: ",";\n  user-select: none;\n"],["\n  margin-left: 4px;\n  font-size: 12px;\n  color: ",";\n  user-select: none;\n"])),(function(n){return n.isActive?"#0033e8":"rgba(0, 0, 0, 0.78)"})),$n=H.default.div(Zn||(Zn=tn(["\n  margin-left: 4px;\n  font-size: 12px;\n  color: ",";\n  user-select: none;\n"],["\n  margin-left: 4px;\n  font-size: 12px;\n  color: ",";\n  user-select: none;\n"])),(function(n){return n.isActive?"#0033e8":"rgba(0, 0, 0, 0.78)"})),ne=H.default.div(Pn||(Pn=tn(["\n  display: flex;\n  align-items: center;\n  line-height: 24px;\n"],["\n  display: flex;\n  align-items: center;\n  line-height: 24px;\n"]))),ee=H.default.div(Ln||(Ln=tn(["\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  &:hover {\n    cursor: pointer;\n  }\n"],["\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),te=H.default.img(Mn||(Mn=tn(["\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n"],["\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n"]))),oe="like",ie=function(n){var e=n.reactions,t=n.totals,o=n.userReactions,i=n.onClick,r=f.Z(s.Z("total",0),t),a=h.Z(r);return(0,K.jsx)(Hn,$({className:"reaction reaction--floatBar"},{children:(0,K.jsx)(Gn,$({className:"reaction__inner-row"},{children:e.map((function(n){var e=yn(n.reactionId,t),r=-1===e?0:l.Z(0,[e,"total"],t),s=xn(n.reactionId,o),c=s?"reaction_active":"";return(0,K.jsxs)(qn,$({className:"reaction__column ".concat(c),isActive:s},{children:[(0,K.jsx)(Wn,$({className:"reaction__icon-col",isActive:s,onClick:function(e){return i(n.reactionId,e)},onTouchEnd:function(e){return i(n.reactionId,e)}},{children:(0,K.jsx)(Jn,{className:"reaction__icon",src:n.imgBeforeReactionUrl,alt:n.reactionName},void 0)}),void 0),!a&&(0,K.jsx)(Xn,$({className:"reaction_count"},{children:gn(r)}),void 0)]}),n.reactionId)}))}),void 0)}),void 0)},re=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={isShowReactionBar:!1},e.reactionBarRef=Y.createRef(),e.isEnterFlag=!1,e.isLongPress=!1,e.longPressTimer=0,e.toggleButton=function(n){return function(){e.isEnterFlag=!1,setTimeout((function(){e.setState({isShowReactionBar:!1})}),100);var t=e.props,o=t.refId,i=t.userReactions,r=t.onReact,a=t.onRevoke,s=t.isRevocable,c=xn(n,i);if("undefined"!==typeof n){var l={refId:o,reactions:{count:1,reactionId:n}};return c?c&&s?a({refId:o,reactionId:n}):void 0:r(l,!h.Z(i))}r({refId:o,reactions:{count:1,reactionId:oe}},!h.Z(i))}},e.handleMouseEnter=function(){e.isEnterFlag=!0,setTimeout((function(){e.isEnterFlag&&e.setState({isShowReactionBar:!0})}),500)},e.handleMouseLeave=function(){e.isEnterFlag=!1,setTimeout((function(){e.isEnterFlag||e.setState({isShowReactionBar:!1})}),500)},e.handleTouchStart=function(){e.longPressTimer=window.setTimeout((function(){e.setState({isShowReactionBar:!0})}),800)},e.handleTouchEnd=function(n){return function(t){clearTimeout(e.longPressTimer),t.preventDefault(),e.state.isShowReactionBar||e.toggleButton(n)()}},e.handleOnClick=function(n){return function(t){t.preventDefault(),e.toggleButton(n)()}},e.handleFloatButtonClick=function(n,t){t.preventDefault(),e.toggleButton(n)()},e.handleClickAway=function(n){var t,o;!(null===(o=null===(t=e.reactionBarRef.current)||void 0===t?void 0:t.contains)||void 0===o?void 0:o.call(t,n.target))&&setTimeout((function(){e.setState({isShowReactionBar:!1})}),100)},e}return V(e,n),e.prototype.componentDidMount=function(){window.addEventListener("click",this.handleClickAway)},e.prototype.componentWillUnmount=function(){window.removeEventListener("click",this.handleClickAway)},e.prototype.render=function(){var n=this.props,e=n.reactions,t=n.userReactions,o=n.isShowTotalCount,i=n.totals,r=this.state.isShowReactionBar,c=v.Z([0,"reactionId"],t),l=a.Z(s.Z("reactionId",c),e),u=!!t.length,d=u?"reaction_active":"",p=m.Z((function(n,e){return n+e.total}),0,i);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(ne,$({className:"reaction__button-wrapper ".concat(d),onClick:this.handleOnClick(c),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd(c)},{children:[l?(0,K.jsx)(te,{src:l.imgBeforeReactionUrl,alt:l.reactionName,className:"reaction__active-icon"},void 0):(0,K.jsx)(ee,$({className:"reaction__default-wrapper"},{children:(0,K.jsx)(Yn,{className:"reaction__default-icon"},void 0)}),void 0),(0,K.jsx)(Qn,$({className:"reaction_name ".concat(d),isActive:u},{children:l?l.reactionName:"\u8b9a\u597d"}),void 0),o&&(0,K.jsx)($n,$({className:"reaction_total_count ".concat(d),isActive:u},{children:p}),void 0)]}),void 0),(0,K.jsx)(Vn,$({className:"reaction_bar",ref:this.reactionBarRef,isShowReactionBar:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},{children:(0,K.jsx)(ie,$({onClick:this.handleFloatButtonClick},this.props),void 0)}),void 0)]},void 0)},e}(Y.Component),ae=H.default.div(Un||(Un=tn(["\n  min-height: 30px;\n  display: flex;\n  item-items: center;\n  position: relative;\n"],["\n  min-height: 30px;\n  display: flex;\n  item-items: center;\n  position: relative;\n"]))),se=H.default.div(Dn||(Dn=tn(["\n  position: absolute;\n  left: 0;\n  top: -10px;\n  transform: translateY(-100%);\n  display: ",";\n\n  .reaction--floatBar {\n    margin: 0;\n  }\n"],["\n  position: absolute;\n  left: 0;\n  top: -10px;\n  transform: translateY(-100%);\n  display: ",";\n\n  .reaction--floatBar {\n    margin: 0;\n  }\n"])),(function(n){return n.hidden?"none":"flex"})),ce=H.default.div(An||(An=tn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"]))),le=H.default.img(zn||(zn=tn(["\n  display: block;\n  width: 16px;\n  height: 16px;\n  height: auto;\n"],["\n  display: block;\n  width: 16px;\n  height: 16px;\n  height: auto;\n"]))),ue=H.default.div(Fn||(Fn=tn(["\n  width: ",";\n  height: ",";\n  margin-left: -4.5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #fff;\n  border-radius: 50%;\n  background-color: #ccdfff;\n\n  &:nth-child(1) {\n    z-index: 2;\n    margin-left: 0;\n  }\n  &:nth-child(2) {\n    z-index: 1;\n  }\n  &:nth-child(3) {\n    z-index: 0;\n  }\n  "," {\n    ",";\n  }\n"],["\n  width: ",";\n  height: ",";\n  margin-left: -4.5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #fff;\n  border-radius: 50%;\n  background-color: #ccdfff;\n\n  &:nth-child(1) {\n    z-index: 2;\n    margin-left: 0;\n  }\n  &:nth-child(2) {\n    z-index: 1;\n  }\n  &:nth-child(3) {\n    z-index: 0;\n  }\n  "," {\n    ",";\n  }\n"])),(function(n){return n.active?"30px":"20px"}),(function(n){return n.active?"30px":"20px"}),le,(function(n){return n.active?"\n        width: 26px;\n        height: 26px;\n      ":null})),de=H.default.div(Bn||(Bn=tn(["\n  color: rgba(0, 0, 0, 0.78);\n  margin-left: 6px;\n"],["\n  color: rgba(0, 0, 0, 0.78);\n  margin-left: 6px;\n"]))),pe=H.default.div(Kn||(Kn=tn(["\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  cursor: pointer;\n"],["\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  cursor: pointer;\n"]))),fe=function(n){var e,t=n.totals,o=n.reactions,i=n.userReactions,r=n.refId,a=n.onReact,s=n.onRevoke,c=n.isRevocable,l=n.longTouchTime,u=void 0===l?800:l,d=(0,Y.useState)(!1),p=d[0],f=d[1],v=(0,Y.useRef)(!1),m=(0,Y.useRef)(),w=(0,Y.useRef)(null),R=t&&null!==(e=g.Z(t.map((function(n){return n.total}))))&&void 0!==e?e:0,k=null===i||void 0===i?void 0:i.map((function(n){return n.reactionId})),j=(null!==k&&void 0!==k?k:[])[0],_=null===t||void 0===t?void 0:t.filter((function(n){return n.total>0})).sort((function(n,e){return(null===k||void 0===k?void 0:k.includes(n.reactionId))?-1:(null===k||void 0===k?void 0:k.includes(e.reactionId))?1:x.Z(y.Z("total"))(n,e)})).slice(0,3),C=function(n){v.current=!1,setTimeout((function(){f(!1)}),100);var e=xn(n,i);b.Z(n)?a({refId:r,reactions:{count:1,reactionId:ln.LIKE}},!h.Z(i)):e?c&&s({refId:r,reactionId:n}):a({refId:r,reactions:{count:1,reactionId:n}},!h.Z(i))},S=function(){v.current=!0,setTimeout((function(){v.current&&f(!0)}),500)},O=function(){v.current=!1,setTimeout((function(){v.current||f(!1)}),500)};return(0,Y.useEffect)((function(){var n=function(n){var e,t;!(null===(t=null===(e=w.current)||void 0===e?void 0:e.contains)||void 0===t?void 0:t.call(e,n.target))&&setTimeout((function(){f(!1)}),100)};return window.addEventListener("click",n,{passive:!0}),function(){window.removeEventListener("click",n)}}),[]),(0,K.jsxs)(ae,$({className:"reaction reaction--clickable-summary"},{children:[(0,K.jsxs)(ce,$({className:"reaction__button-wrapper",onMouseEnter:S,onMouseLeave:O,onClick:function(n){n.preventDefault(),C(j)},onTouchStart:function(){m.current=window.setTimeout((function(){f(!0)}),u)},onTouchEnd:function(n){clearTimeout(m.current),n.preventDefault(),p||C(j)}},{children:[null===_||void 0===_?void 0:_.map((function(n){var e,t=null===(e=null===o||void 0===o?void 0:o.find((function(e){return e.reactionId===n.reactionId})))||void 0===e?void 0:e.imgBeforeReactionUrl;return t&&(0,K.jsx)(ue,$({className:"reaction__icon-wrapper",active:null===k||void 0===k?void 0:k.includes(n.reactionId)},{children:(0,K.jsx)(le,{className:"reaction__icon",src:t},void 0)}),n.reactionId)})),R>0?(0,K.jsx)(de,$({className:"reaction__count"},{children:gn(R)}),void 0):(0,K.jsx)(pe,$({className:"reaction__default-wrapper"},{children:(0,K.jsx)(Yn,{className:"reaction__default-icon"},void 0)}),void 0)]}),void 0),(0,K.jsx)(se,$({className:"reaction__float-bar-wrapper",ref:w,hidden:!p,onMouseEnter:S,onMouseLeave:O},{children:p&&(0,K.jsx)(ie,$({onClick:function(n,e){e.preventDefault(),C(n)}},n),void 0)}),void 0)]}),void 0)};function he(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function ve(){var n=he(["\n          @media (min-width: ",") {\n            ","\n          }\n        "]);return ve=function(){return n},n}function me(){var n=he(["\n          @media (max-width: ",") {\n            ","\n          }\n        "]);return me=function(){return n},n}function ge(){var n=he(["\n    @media (min-width: ",") and\n      (max-width: ",") {\n      ","\n    }\n  "]);return ge=function(){return n},n}function xe(){var n=he(["\n    @media (min-width: ",") {\n      ","\n    }\n  "]);return xe=function(){return n},n}function ye(){var n=he(["\n    @media (max-width: ",") {\n      ","\n    }\n  "]);return ye=function(){return n},n}var be,we={huge:"1440px",large:"1170px",medium:"768px",small:"450px"};function Re(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n]?e[n]:parseInt(n)?n:(console.error("styled-media-query: No valid breakpoint or size specified for media."),"0")}function ke(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,e=function(e){return function(){return(0,H.css)(ye(),Re(e,n),H.css.apply(void 0,arguments))}},t=function(e){return function(){return(0,H.css)(xe(),Re(e,n),H.css.apply(void 0,arguments))}},o=function(e,t){return function(){return(0,H.css)(ge(),Re(e,n),Re(t,n),H.css.apply(void 0,arguments))}},i=Object.keys(n).reduce((function(e,t){var o=n[t];return e.to[t]=function(){return console.warn("styled-media-query: Use media.lessThan('".concat(t,"') instead of old media.to.").concat(t," (Probably we'll deprecate it)")),(0,H.css)(me(),o,H.css.apply(void 0,arguments))},e.from[t]=function(){return console.warn("styled-media-query: Use media.greaterThan('".concat(t,"') instead of old media.from.").concat(t," (Probably we'll deprecate it)")),(0,H.css)(ve(),o,H.css.apply(void 0,arguments))},e}),{to:{},from:{}});return Object.assign({lessThan:e,greaterThan:t,between:o},i)}ke();var je,_e,Ce,Se,Oe,Ie,Ee,Te,Ne,Ze,Pe,Le,Me,Ue,De,Ae,ze,Fe,Be,Ke,Ye,He,Ge,qe,We,Je,Xe,Ve,Qe,$e,nt,et="tablet",tt=ke(((be={}).tablet="37.5em",be.laptop="63em",be.desktop="80em",be)),ot=H.default.div(_e||(_e=tn(["\n  display: flex;\n  flex-direction: column-reverse;\n\n  ",";\n"],["\n  display: flex;\n  flex-direction: column-reverse;\n\n  ",";\n"])),tt.greaterThan(et)(je||(je=tn(["\n    flex-direction: row;\n    align-items: center;\n    height: 28px;\n  "],["\n    flex-direction: row;\n    align-items: center;\n    height: 28px;\n  "])))),it=H.default.div(Se||(Se=tn(["\n  display: flex;\n  justify-content: center;\n\n  ",";\n"],["\n  display: flex;\n  justify-content: center;\n\n  ",";\n"])),tt.greaterThan(et)(Ce||(Ce=tn(["\n    justify-content: unset;\n  "],["\n    justify-content: unset;\n  "])))),rt=H.default.span(Ie||(Ie=tn(["\n  display: inline-block;\n  margin-right: 24px;\n  font-size: 12px;\n  text-align: center;\n\n  ",";\n"],["\n  display: inline-block;\n  margin-right: 24px;\n  font-size: 12px;\n  text-align: center;\n\n  ",";\n"])),tt.greaterThan(et)(Oe||(Oe=tn(["\n    font-size: 16px;\n    text-align: left;\n  "],["\n    font-size: 16px;\n    text-align: left;\n  "])))),at=H.default.div(Te||(Te=tn(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  margin-right: 16px;\n  font-size: 10px;\n\n  ",";\n"],["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  margin-right: 16px;\n  font-size: 10px;\n\n  ",";\n"])),tt.greaterThan(et)(Ee||(Ee=tn(["\n    flex-direction: row;\n    font-size: 16px;\n  "],["\n    flex-direction: row;\n    font-size: 16px;\n  "])))),st=H.default.div(Pe||(Pe=tn(["\n  width: 28px;\n  margin: 0 0 16px;\n  position: relative;\n  transition: all 0.2s ease-in-out;\n  ",";\n\n  &::before {\n    content: '","';\n    display: block;\n    border-radius: 18px;\n    background-color: rgba(0, 0, 0, 0.78);\n    padding: 2px 8px;\n    color: #fff;\n    font-size: 12px;\n    position: absolute;\n    top: -28px;\n    left: 50%;\n    transform: translateX(-50%);\n    white-space: nowrap;\n    opacity: 0;\n    transition: opacity 0.2s ease-in-out;\n  }\n\n  &:hover {\n    cursor: pointer;\n\n    &::before {\n      opacity: 1;\n    }\n  }\n\n  ",";\n"],["\n  width: 28px;\n  margin: 0 0 16px;\n  position: relative;\n  transition: all 0.2s ease-in-out;\n  ",";\n\n  &::before {\n    content: '","';\n    display: block;\n    border-radius: 18px;\n    background-color: rgba(0, 0, 0, 0.78);\n    padding: 2px 8px;\n    color: #fff;\n    font-size: 12px;\n    position: absolute;\n    top: -28px;\n    left: 50%;\n    transform: translateX(-50%);\n    white-space: nowrap;\n    opacity: 0;\n    transition: opacity 0.2s ease-in-out;\n  }\n\n  &:hover {\n    cursor: pointer;\n\n    &::before {\n      opacity: 1;\n    }\n  }\n\n  ",";\n"])),(function(n){return n.isActive&&(0,H.css)(Ne||(Ne=tn(["\n      margin: 0 12px 16px;\n      > img {\n        transform: scale(1.71);\n      }\n    "],["\n      margin: 0 12px 16px;\n      > img {\n        transform: scale(1.71);\n      }\n    "])))}),(function(n){return n.reactionName}),tt.greaterThan(et)(Ze||(Ze=tn(["\n    flex-direction: row;\n    margin: 0 4px 0 0;\n    // @ts-ignore type issues on styled-media-query\n    width: ",";\n    > img {\n      transform: none;\n    }\n  "],["\n    flex-direction: row;\n    margin: 0 4px 0 0;\n    // @ts-ignore type issues on styled-media-query\n    width: ",";\n    > img {\n      transform: none;\n    }\n  "])),(function(n){return n.isActive?"48px":"28px"}))),ct=H.default.img(Le||(Le=tn(["\n  display: block;\n  width: 100%;\n  height: auto;\n  transition: all 0.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);\n"],["\n  display: block;\n  width: 100%;\n  height: auto;\n  transition: all 0.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);\n"]))),lt=function(n){var e=n.reactions,t=n.totals,o=n.ctaMessage,i=n.userReactions,r=n.refId,a=n.isRevocable,c=n.onReact,u=n.onRevoke,d=f.Z(s.Z("total",0),t),p=h.Z(d);return(0,K.jsxs)(ot,$({className:"reaction reaction--multipleOne"},{children:[p&&(0,K.jsx)(rt,$({className:"reaction__cta-message"},{children:o}),void 0),(0,K.jsx)(it,$({className:"reaction__inner-row"},{children:e.map((function(n){var e=yn(n.reactionId,t),o=-1===e?0:l.Z(0,[e,"total"],t),s=xn(n.reactionId,i);return(0,K.jsxs)(at,$({className:"reaction__column"},{children:[(0,K.jsx)(st,$({className:"reaction__icon-col",reactionName:n.reactionName,isActive:s,onClick:function(){return function(n){var e=xn(n,i),t={refId:r,reactions:{count:1,reactionId:n}};return e?e&&a?u({refId:r,reactionId:n}):void 0:c(t,!h.Z(i))}(n.reactionId)}},{children:(0,K.jsx)(ct,{className:"reaction__icon",src:n.imgBeforeReactionUrl,alt:n.reactionName},void 0)}),void 0),!p&&gn(o)]}),n.reactionId)}))}),void 0)]}),void 0)},ut=H.default.div(Ue||(Ue=tn(["\n  width: 60px;\n  height: ",";\n  border-radius: 30px;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.5);\n  background-color: #ffffff;\n  overflow: ",";\n  position: relative;\n  transition: height 0.3s ease-in-out;\n\n  ",";\n"],["\n  width: 60px;\n  height: ",";\n  border-radius: 30px;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.5);\n  background-color: #ffffff;\n  overflow: ",";\n  position: relative;\n  transition: height 0.3s ease-in-out;\n\n  ",";\n"])),(function(n){return n.isOpen?"265px":"60px"}),(function(n){return n.isOpen?"visible":"hidden"}),tt.greaterThan(et)(Me||(Me=tn(["\n    // @ts-ignore\n    height: ",";\n  "],["\n    // @ts-ignore\n    height: ",";\n  "])),(function(n){return n.isOpen?"315px":"60px"}))),dt=H.default.img(De||(De=tn(["\n  display: block;\n  width: 40px;\n  height: 40px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"],["\n  display: block;\n  width: 40px;\n  height: 40px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),pt=H.default.ul(Ae||(Ae=tn(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 4px 10px;\n  margin: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  list-style: none;\n\n  > li {\n    transition: opacity 0.3s ease-in-out;\n\n    &:not(:last-child) {\n      opacity: ",";\n    }\n\n    &:not(:first-child):not(:last-child) {\n      padding: 6px 0;\n    }\n\n    &:first-child {\n      padding-bottom: 6px;\n    }\n\n    &:last-child {\n      padding: 6px 0;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    &:nth-last-child(2) {\n      border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n    }\n  }\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 4px 10px;\n  margin: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  list-style: none;\n\n  > li {\n    transition: opacity 0.3s ease-in-out;\n\n    &:not(:last-child) {\n      opacity: ",";\n    }\n\n    &:not(:first-child):not(:last-child) {\n      padding: 6px 0;\n    }\n\n    &:first-child {\n      padding-bottom: 6px;\n    }\n\n    &:last-child {\n      padding: 6px 0;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    &:nth-last-child(2) {\n      border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n    }\n  }\n"])),(function(n){return n.isOpen?"1":"0"})),ft=H.default.li(Fe||(Fe=tn(["\n  position: relative;\n  ",";\n\n  &::before {\n    content: '","';\n    display: block;\n    border-radius: 18px;\n    background-color: rgba(0, 0, 0, 0.78);\n    padding: 2px 8px;\n    color: #fff;\n    font-size: 12px;\n    position: absolute;\n    top: 50%;\n    left: -5.5em;\n    transform: translateY(-50%);\n    white-space: nowrap;\n    opacity: 0;\n    transition: opacity 0.2s ease-in-out;\n  }\n\n  &:hover {\n    cursor: pointer;\n\n    &::before {\n      opacity: 1;\n    }\n  }\n"],["\n  position: relative;\n  ",";\n\n  &::before {\n    content: '","';\n    display: block;\n    border-radius: 18px;\n    background-color: rgba(0, 0, 0, 0.78);\n    padding: 2px 8px;\n    color: #fff;\n    font-size: 12px;\n    position: absolute;\n    top: 50%;\n    left: -5.5em;\n    transform: translateY(-50%);\n    white-space: nowrap;\n    opacity: 0;\n    transition: opacity 0.2s ease-in-out;\n  }\n\n  &:hover {\n    cursor: pointer;\n\n    &::before {\n      opacity: 1;\n    }\n  }\n"])),(function(n){return n.isActive&&(0,H.css)(ze||(ze=tn(["\n      > img {\n        transform: scale(1.3);\n      }\n    "],["\n      > img {\n        transform: scale(1.3);\n      }\n    "])))}),(function(n){return n.reactionName})),ht=H.default.img(Ke||(Ke=tn(["\n  display: block;\n  width: 32px;\n  height: 32px;\n\n  ",";\n"],["\n  display: block;\n  width: 32px;\n  height: 32px;\n\n  ",";\n"])),tt.greaterThan(et)(Be||(Be=tn(["\n    width: 40px;\n    height: 40px;\n  "],["\n    width: 40px;\n    height: 40px;\n  "])))),vt=H.default.div(He||(He=tn(["\n  position: relative;\n  width: 22px;\n  height: 22px;\n\n  ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &::before,\n  &::after {\n    width: 22px;\n    height: 1px;\n    border-radius: 1px;\n    background-color: rgba(0, 0, 0, 0.48);\n    position: absolute;\n    top: 50%;\n    left: 0;\n    content: '';\n  }\n\n  &::before {\n    transform: rotate(45deg);\n  }\n\n  &::after {\n    transform: rotate(-45deg);\n  }\n"],["\n  position: relative;\n  width: 22px;\n  height: 22px;\n\n  ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &::before,\n  &::after {\n    width: 22px;\n    height: 1px;\n    border-radius: 1px;\n    background-color: rgba(0, 0, 0, 0.48);\n    position: absolute;\n    top: 50%;\n    left: 0;\n    content: '';\n  }\n\n  &::before {\n    transform: rotate(45deg);\n  }\n\n  &::after {\n    transform: rotate(-45deg);\n  }\n"])),tt.greaterThan(et)(Ye||(Ye=tn(["\n    padding: 4px 0;\n  "],["\n    padding: 4px 0;\n  "])))),mt=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={isMenuOpen:!1},e.handleMenuToggle=function(){e.setState((function(n){return{isMenuOpen:!n.isMenuOpen}}))},e.handleClick=function(n){var t=e.props,o=t.userReactions,i=t.refId,r=t.onReact,a=t.onRevoke,s=t.isRevocable,c=xn(n,o),l={refId:i,reactions:{count:1,reactionId:n}},u={refId:i,reactionId:n};return e.handleMenuToggle(),c?c&&s?a(u):void 0:r(l,!h.Z(o))},e}return V(e,n),e.prototype.render=function(){var n=this,e=this.props,t=e.reactions,o=e.defaultImg,i=e.userReactions,r=this.state.isMenuOpen,c=v.Z([0,"reactionId"],i),l=a.Z(s.Z("reactionId",c),t),u=r?"reaction--active":"";return(0,K.jsx)(ut,$({isOpen:r,className:"reaction reaction--multipleOne-floating reaction__circle-button ".concat(u)},{children:(0,K.jsxs)(pt,$({isOpen:r,className:"reaction__icon-list"},{children:[t.map((function(e){var t=xn(e.reactionId,i);return(0,K.jsx)(ft,$({reactionName:e.reactionName,isActive:t,onClick:function(){return n.handleClick(e.reactionId)},className:"reaction__icon-col"},{children:(0,K.jsx)(ht,{src:e.imgBeforeReactionUrl,alt:e.reactionName,className:"reaction__icon"},void 0)}),e.reactionId)})),(0,K.jsx)("li",{children:r?(0,K.jsx)(vt,{onClick:function(){return n.handleMenuToggle()},className:"reaction__close-button"},void 0):(0,K.jsx)(dt,{onClick:function(){return n.handleMenuToggle()},src:c?null===l||void 0===l?void 0:l.imgBeforeReactionUrl:o,className:"reaction__default-icon"},void 0)},void 0)]}),void 0)}),void 0)},e}(Y.PureComponent),gt=H.default.div(Ge||(Ge=tn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),xt=H.default.div(qe||(qe=tn(["\n  width: 20px;\n  height: 20px;\n  margin-left: -4.5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #fff;\n  border-radius: 50%;\n  background-color: #ccdfff;\n\n  &:nth-child(1) {\n    z-index: 2;\n    margin-left: 0;\n  }\n  &:nth-child(2) {\n    z-index: 1;\n  }\n  &:nth-child(3) {\n    z-index: 0;\n  }\n"],["\n  width: 20px;\n  height: 20px;\n  margin-left: -4.5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #fff;\n  border-radius: 50%;\n  background-color: #ccdfff;\n\n  &:nth-child(1) {\n    z-index: 2;\n    margin-left: 0;\n  }\n  &:nth-child(2) {\n    z-index: 1;\n  }\n  &:nth-child(3) {\n    z-index: 0;\n  }\n"]))),yt=H.default.img(We||(We=tn(["\n  display: block;\n  width: 16px;\n  height: 16px;\n  height: auto;\n"],["\n  display: block;\n  width: 16px;\n  height: 16px;\n  height: auto;\n"]))),bt=H.default.div(Je||(Je=tn(["\n  color: rgba(0, 0, 0, 0.78);\n  margin-left: 6px;\n"],["\n  color: rgba(0, 0, 0, 0.78);\n  margin-left: 6px;\n"]))),wt=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={reactionIconUrls:{},reactionNameOrder:[]},e}return V(e,n),e.prototype.componentDidMount=function(){var n=this.props.reactions,e={};n.forEach((function(n){e[n.reactionId]=n.imgBeforeReactionUrl})),this.setState({reactionIconUrls:e,reactionNameOrder:w.Z("reactionId")(n)})},e.prototype.render=function(){var n=this.props.totals,e=this.state,t=e.reactionIconUrls,i=e.reactionNameOrder,r=o.Z(g.Z,w.Z("total"))(n),a=m.Z((function(n,e){var t;return $(((t={})[e.reactionId]=e.total,t),n)}),{})(n),s=R.Z((function(n){return{total:a[n]||0,reactionId:n}}),i),c=o.Z(k.Z(0,3),j.Z((function(n){return n.total>0})),_.Z(x.Z(y.Z("total"))))(s);return r>0?(0,K.jsxs)(gt,$({className:"reaction reaction--summary"},{children:[R.Z((function(n){var e=n.reactionId;return(0,K.jsx)(xt,$({className:"reaction__icon-wrapper"},{children:(0,K.jsx)(yt,{className:"reaction__icon",src:t[e]},void 0)}),e)}),c),(0,K.jsx)(bt,$({className:"reaction__count"},{children:gn(r)}),void 0)]}),void 0):null},e}(Y.PureComponent),Rt=H.default.div(Ve||(Ve=tn(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid rgba(0, 0, 0, 0.4);\n  border-radius: 4px;\n  padding: 16px 0;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  ","\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid rgba(0, 0, 0, 0.4);\n  border-radius: 4px;\n  padding: 16px 0;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  ","\n"])),(function(n){return n.isActive&&(0,H.css)(Xe||(Xe=tn(["\n      color: ",";\n      border-color: ",";\n    "],["\n      color: ",";\n      border-color: ",";\n    "])),n.activeColor,n.activeColor)})),kt=H.default.div(Qe||(Qe=tn(["\n  width: 24px;\n"],["\n  width: 24px;\n"]))),jt=H.default.img($e||($e=tn(["\n  width: 100%;\n  height: auto;\n  display: block;\n  border-style: none;\n"],["\n  width: 100%;\n  height: auto;\n  display: block;\n  border-style: none;\n"]))),_t=H.default.div(nt||(nt=tn(["\n  margin-left: 16px;\n"],["\n  margin-left: 16px;\n"]))),Ct=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.handleClick=function(){var n=e.props,t=n.refId,o=n.isRevocable,i=n.reactionId,r=n.onReact,a=n.onRevoke,s=n.userReactions,c=xn(i,s),l={refId:t,reactions:{count:1,reactionId:i}};return c?c&&o?a({refId:t,reactionId:i}):void 0:r(l)},e}return V(e,n),e.prototype.render=function(){var n=this.props,e=n.totals,t=n.reactionName,o=n.ctaMessage,i=n.imgBeforeReactionUrl,r=n.imgAfterReactionUrls,a=n.reactionFromColor,s=n.isReacted,c=n.useShortMessage,l=(e[0]||{}).total,u=void 0===l?0:l,d=s?"reaction--active":"",p=s?r:i,f=c?"":"".concat(t,"\uff1a"),h=c?t:o;return(0,K.jsxs)(Rt,$({onClick:this.handleClick,className:"reaction reaction--single ".concat(d),isActive:s,activeColor:a},{children:[(0,K.jsx)(kt,$({className:"reaction__icon-wrapper"},{children:(0,K.jsx)(jt,{src:p,alt:t,title:t,className:"reaction__icon"},void 0)}),void 0),(0,K.jsx)(_t,$({className:"reaction__counts"},{children:u?"".concat(f).concat(gn(u)):h}),void 0)]}),void 0)},e}(Y.PureComponent),St=(0,Y.createContext)({}),Ot="PUBLIC",It=function(n){return Promise.reject(n)},Et=q().create({timeout:1e4}),Tt=function(n){var e=n.envConfig,t=n.isDebug,o=n.appId,i=n.getJwt;Et.interceptors.request.use((function(n){return function(n){var e=n.config,t=n.envConfig,o=n.isDebug,i=n.appId,r=n.getJwt,a=null===r||void 0===r?void 0:r(),s=a&&!C.Z(["headers","x-auth-schema"],Ot,e),c=o?{"x-auth-schema":"DEBUG","x-debug-authorization":"BearerParams accountId=".concat("xxx","&appId=").concat(i)}:s?{"x-auth-schema":"CLIENT",Authorization:"Bearer ".concat(a)}:{},l={baseURL:t.baseURL,headers:c};return S.Z(l,e)}({config:n,envConfig:e,isDebug:t,appId:o,getJwt:i})}),It)};Et.interceptors.response.use((function(n){return n.data}),It);var Nt=function(n){return Et.post("/reactions",n)},Zt=function(n){return Et.patch("/reactions",n)},Pt=function(n){return Et.delete("/reactions",{data:n})},Lt=function(n){return Et.get("/reactions/me/recent",{params:n})},Mt=function(){function n(){this._eventMap={}}return n.prototype.on=function(n,e){return this._eventMap[n]=this._eventMap[n]||[],this._eventMap[n].push(e),this},n.prototype.emit=function(n){for(var e=this,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var i=this._eventMap[n];return i&&0!==i.length?(i.slice().forEach((function(n){return n.apply(e,t)})),this):this},n.prototype.remove=function(n,e){var t=this._eventMap[n];if(O.Z(t)){var o=c.Z(I.Z(e),t);-1!==o&&(this._eventMap[n]=E.Z(o,1,t))}},n.prototype.removeAllListeners=function(n){return n?delete this._eventMap[n]:this._eventMap={},this},n.prototype.listeners=function(n){return this._eventMap[n]||[]},n.prototype.allListeners=function(){return this._eventMap},n}(),Ut=new Mt,Dt="auto_social_reaction",At=function(n){return J().set(Dt,n)},zt=function(){return J().get(Dt)},Ft=function(){return J().remove(Dt)},Bt=R.Z(o.Z(T.Z("total",0),N.Z(["reactionId"]))),Kt=function(n,e,t){var i=r.Z({},"reactions",e),a=i.reactionId,s=i.count,c=yn(a,n),f=l.Z("",[0,"reactionId"],t),h=-1;f&&(h=yn(f,n));var m=l.Z(0,[0,"count"],t),g=u.Z(d.Z([h,"total"]),Z.Z(P.Z,m)),x=u.Z(d.Z([c,"total"]),p.Z(s)),y=o.Z(g,x),b=L.Z({reactionId:a,total:s},n);return-1===c?b:f===a?0===v.Z([c,"total"],n)?x(n):n:f!==a&&0===l.Z(-1,[h,"total"],n)?x(n):m>0?y(n):x(n)},Yt=function(n,e){var t=l.Z("",[0,"reactionId"],n),o=yn(t,e),i=l.Z(-1,[o,"total"],e),r=-1!==o,a=r&&0===i,s=M.Z(d.Z([o,"total"]),1,e),c=e;return r||h.Z(t)?a&&(c=s):c=L.Z({reactionId:t,total:1},e),c},Ht=function(n,e){return o.Z(U.Z,m.Z(D.Z(A.Z),{}),R.Z(z.Z(y.Z(n))))(e)},Gt=function(n){return"Function"===function(n){return Object.prototype.toString.call(n).slice(8,-1)}(n)},qt=F.Z(Lt),Wt=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={totals:[],userReactions:[],originalUserReactions:[],isReacted:!1,originalTotals:[],isGetRecentCalled:!1},e.setStateListener=function(n){e.setState($($({},n),{isGetRecentCalled:!0})),e.notifyChange(n)},e.autoSocialReactionPostHandler=function(){var n=e.props.refId,t=zt();t&&s.Z("refId",n,t)&&e.handleReact(t),Ft()},e.actionHandler=function(n,t,o){var i=e.props,r=i.isAuthenticated,a=i.ssoLogin,s=t.refId;if(s)return r?(n(t),void Ut.emit("".concat(s,"/setState"),o)):void(Gt(a)?("reactions"in t&&At(t),a()):console.error("ERROR: 'ssoLogin' is not a function"));console.error("ERROR: 'refId' is undefined")},e.handleReact=function(n,t){var o;void 0===t&&(t=!1);var i=e.state,r=i.originalTotals,a=i.originalUserReactions,s=e.props.config.allowedReactions,c=Bt(s),l=Ht("reactionId",[c,r]),u={userReactions:[n.reactions],totals:Kt(l,n,a),isReacted:!0,originalTotals:r,originalUserReactions:a,eventRef:null!==(o=e.props.eventRef)&&void 0!==o?o:null};e.actionHandler(t?Zt:Nt,n,u)},e.handleRevoke=function(n){var t,o=e.state,i=o.userReactions,r=o.totals,a=o.originalTotals,s=o.originalUserReactions,c={userReactions:wn(i,n),totals:bn(r,i,n),isReacted:!1,originalTotals:a,originalUserReactions:s,eventRef:null!==(t=e.props.eventRef)&&void 0!==t?t:null};e.actionHandler(Pt,n,c)},e}return V(e,n),e.prototype.componentDidMount=function(){var n,e;return nn(this,void 0,void 0,(function(){var t,o,i,r,a,c,u,d,p,f,h,v,m,g,x,y,w,R,k=this;return en(this,(function(j){return t=this.props,o=t.totals,i=t.refId,r=t.isAuthenticated,a=t.independentMode,c=t.fetchUserReactionsMode,u=void 0===c?a?un.INDEPENDENT:un.SINGLETON:c,d=t.getUserReactionsFetchKey,p=t.setUserReactionsFetchKey,f=t.getUserReactionsFromSdk,h=t.setUserReactionsToSdk,v=(null!==(n=this.context)&&void 0!==n?n:{}).userReactionsFetchKey,m=null===d||void 0===d?void 0:d(),g=!1,u===un.CONTEXT_KEY&&m!==v&&(null===p||void 0===p||p(null!==v&&void 0!==v?v:null),b.Z(v)||(null===h||void 0===h||h(null),g=!0)),x=B.Z(o),this.setState({totals:x,originalTotals:x}),r?(y=Promise.resolve(),u&&(w=(R={},R[un.INDEPENDENT]=Lt,R[un.SINGLETON]=qt,R[un.CONTEXT_KEY]=g?function(){return nn(k,void 0,void 0,(function(){return en(this,(function(n){return null===h||void 0===h||h(Lt()),[2,null===f||void 0===f?void 0:f()]}))}))}:function(){return nn(k,void 0,void 0,(function(){return en(this,(function(n){return[2,null===f||void 0===f?void 0:f()]}))}))},R)[u],y=null!==(e=null===w||void 0===w?void 0:w().then((function(n){if(!k.state.isGetRecentCalled){var e=l.Z([],["reactions",i],n),t=!s.Z("length",0,e),r={totals:Yt(e,o),userReactions:e,originalUserReactions:e,isReacted:t};if(k.setState(r),k.notifyChange(r),t)return Ft();k.autoSocialReactionPostHandler()}})))&&void 0!==e?e:Promise.resolve()),Ut.on("".concat(i,"/setState"),this.setStateListener),[2,y]):[2]}))}))},e.prototype.componentWillUnmount=function(){var n=this.props.refId;Ut.remove("".concat(n,"/setState"),this.setStateListener)},e.prototype.notifyChange=function(n){var e=this.props.onChange,t=this.state,o=t.userReactions,i=t.totals;if(e){var r=n.userReactions,a=n.totals,s=n.isReacted,c=n.eventRef;e(B.Z({ref:c,userReactions:r,totals:a,isReacted:s,lastUserReactions:o,lastTotals:i}))}},e.prototype.render=function(){var n,e=this.props,t=e.config,o=e.className,i=e.refId,r=e.useShortMessage,a=e.useSecondary,s=e.displayMode,c=e.isShowTotalCount,l=void 0!==c&&c,u=t.mode,d=t.allowedReactions,p=t.isRevocable,f=t.ctaMessage,h=t.imgDefaultReactionUrl,v=this.state,m=v.userReactions,g=v.totals,x=v.isReacted,y={refId:i,isRevocable:p,totals:g,onReact:this.handleReact,onRevoke:this.handleRevoke,ctaMessage:f,userReactions:m};switch(u){case sn.SINGLE:n=(0,K.jsx)(Ct,$({},y,d[0],{isReacted:x,useShortMessage:r}),void 0);break;case sn.MULTI_ONE:n=a||s===cn.SECONDARY?(0,K.jsx)(mt,$({},y,{reactions:d,defaultImg:h}),void 0):s===cn.REACTION_BAR?(0,K.jsx)(re,$({},y,{reactions:d,isShowTotalCount:l}),void 0):s===cn.SUMMARY?(0,K.jsx)(wt,$({},y,{reactions:d}),void 0):s===cn.CLICKABLE_SUMMARY?(0,K.jsx)(fe,$({},y,{reactions:d}),void 0):(0,K.jsx)(lt,$({},y,{reactions:d}),void 0);break;default:return null}return(0,K.jsx)("div",$({className:"reaction-wrapper ".concat(o||"")},{children:n}),void 0)},e.contextType=St,e.defaultProps={totals:[],isAuthenticated:!1,config:{},useShortMessage:!1},e}(Y.Component),Jt="production",Xt="staging",Vt="development",Qt=function(n){var e=this,t=n.appId,o=n.env,i=n.isDebug,r=void 0!==i&&i,a=n.initialUserReactionsFetchKey,s=void 0===a?null:a;this.jwt=null,this.userReactionsPromise=null,this.getUserReactionsFetchKey=function(){return e.userReactionsFetchKey},this.setUserReactionsFetchKey=function(n){e.userReactionsFetchKey=n},this.getUserReactionsFromSdk=function(){return nn(e,void 0,void 0,(function(){var n;return en(this,(function(e){return[2,null!==(n=this.userReactionsPromise)&&void 0!==n?n:null]}))}))},this.setUserReactionsToSdk=function(n){e.userReactionsPromise=Promise.resolve(n)},this.appId=t,this.userReactionsFetchKey=s,this.env=o===Jt?Jt:o===Xt?Xt:Vt,[Jt,Vt].includes(o)||console.warn("SocialReactionSDK env falls back to 'development'"),this.setJwt=function(n){e.jwt=n},Tt({envConfig:vn(this.env),appId:t,isDebug:r,getJwt:function(){return e.jwt}});var c=Et.get("/configs",{headers:{"x-auth-schema":Ot}}).then((function(n){var e=v.Z(["configs",t],n);if(!e)throw Error("CONFIG ERROR, please check your 'appId' or 'network'");return e}));this.getConfigs=c,this.SocialReactionComponent=fn({configPromise:c,setJwt:this.setJwt,getUserReactionsFetchKey:this.getUserReactionsFetchKey,setUserReactionsFetchKey:this.setUserReactionsFetchKey,getUserReactionsFromSdk:this.getUserReactionsFromSdk,setUserReactionsToSdk:this.setUserReactionsToSdk})(Wt),this.SocialReactionContext=St}},20640:function(n,e,t){"use strict";var o=t(11742),i={"text/plain":"Text","text/html":"Url",default:"Text"};n.exports=function(n,e){var t,r,a,s,c,l,u=!1;e||(e={}),t=e.debug||!1;try{if(a=o(),s=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=n,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(o){if(o.stopPropagation(),e.format)if(o.preventDefault(),"undefined"===typeof o.clipboardData){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=i[e.format]||i.default;window.clipboardData.setData(r,n)}else o.clipboardData.clearData(),o.clipboardData.setData(e.format,n);e.onCopy&&(o.preventDefault(),e.onCopy(o.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){t&&console.error("unable to copy using execCommand: ",d),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),u=!0}catch(d){t&&console.error("unable to copy using clipboardData: ",d),t&&console.error("falling back to prompt"),r=function(n){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(r,n)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),l&&document.body.removeChild(l),a()}return u}},63073:function(n,e,t){var o=t(79002)((function(n,e){return Number(n)+Number(e)}));n.exports=o},78095:function(n,e,t){var o=t(79002)(t(34793)(["any"],t(97034),(function(n,e){for(var t=0;t<e.length;){if(n(e[t]))return!0;t+=1}return!1})));n.exports=o},77681:function(n,e,t){var o=t(76224),i=t(2220),r=o((function(n){return i(n.length,n)}));n.exports=r},46376:function(n,e,t){var o=t(79002)(t(34793)(["find"],t(47855),(function(n,e){for(var t=0,o=e.length;t<o;){if(n(e[t]))return e[t];t+=1}})));n.exports=o},97034:function(n,e,t){var o=t(79002),i=t(22157),r=t(93714),a=function(){function n(n,e){this.xf=e,this.f=n,this.any=!1}return n.prototype["@@transducer/init"]=r.init,n.prototype["@@transducer/result"]=function(n){return this.any||(n=this.xf["@@transducer/step"](n,!1)),this.xf["@@transducer/result"](n)},n.prototype["@@transducer/step"]=function(n,e){return this.f(e)&&(this.any=!0,n=i(this.xf["@@transducer/step"](n,!0))),n},n}(),s=o((function(n,e){return new a(n,e)}));n.exports=s},47855:function(n,e,t){var o=t(79002),i=t(22157),r=t(93714),a=function(){function n(n,e){this.xf=e,this.f=n,this.found=!1}return n.prototype["@@transducer/init"]=r.init,n.prototype["@@transducer/result"]=function(n){return this.found||(n=this.xf["@@transducer/step"](n,void 0)),this.xf["@@transducer/result"](n)},n.prototype["@@transducer/step"]=function(n,e){return this.f(e)&&(this.found=!0,n=i(this.xf["@@transducer/step"](n,e))),n},n}(),s=o((function(n,e){return new a(n,e)}));n.exports=s},84585:function(n,e,t){var o=t(79002),i=t(61894),r=t(52478),a=o((function(n,e){return i(r(n),e)}));n.exports=a},52478:function(n,e,t){var o=t(79002),i=t(87430),r=o((function(n,e){return i([n],e)}));n.exports=r},18371:function(n,e,t){var o=t(16370),i=t(51481),r=o((function(n,e,t){return i(e,t[n])}));n.exports=r},53176:function(n,e,t){var o=t(16370),i=t(54782),r=o((function(n,e,t){return i(n,[e],t)}));n.exports=r},36945:function(n,e,t){var o=t(63073),i=t(20793)(o,0);n.exports=i},74300:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyToClipboard=void 0;var o=r(t(67294)),i=r(t(20640));function r(n){return n&&n.__esModule?n:{default:n}}function a(n){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a(n)}function s(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function c(n,e){if(null==n)return{};var t,o,i=function(n,e){if(null==n)return{};var t,o,i={},r=Object.keys(n);for(o=0;o<r.length;o++)t=r[o],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(o=0;o<r.length;o++)t=r[o],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function l(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function u(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function d(n,e){return!e||"object"!==a(e)&&"function"!==typeof e?f(n):e}function p(n){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},p(n)}function f(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function h(n,e){return h=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},h(n,e)}function v(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var m=function(n){function e(){var n,t;l(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return v(f(t=d(this,(n=p(e)).call.apply(n,[this].concat(a)))),"onClick",(function(n){var e=t.props,r=e.text,a=e.onCopy,s=e.children,c=e.options,l=o.default.Children.only(s),u=(0,i.default)(r,c);a&&a(r,u),l&&l.props&&"function"===typeof l.props.onClick&&l.props.onClick(n)})),t}var t,r,a;return function(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&h(n,e)}(e,n),t=e,r=[{key:"render",value:function(){var n=this.props,e=(n.text,n.onCopy,n.options,n.children),t=c(n,["text","onCopy","options","children"]),i=o.default.Children.only(e);return o.default.cloneElement(i,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(t,!0).forEach((function(e){v(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},t,{onClick:this.onClick}))}}],r&&u(t.prototype,r),a&&u(t,a),e}(o.default.PureComponent);e.CopyToClipboard=m,v(m,"defaultProps",{onCopy:void 0,options:void 0})},74855:function(n,e,t){"use strict";var o=t(74300).CopyToClipboard;o.CopyToClipboard=o,n.exports=o},57761:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),i=t(67294),r=s(i),a=s(t(45697));function s(n){return n&&n.__esModule?n:{default:n}}var c=function(n){function e(n){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?n:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return t.scrollListener=t.scrollListener.bind(t),t.eventListenerOptions=t.eventListenerOptions.bind(t),t.mousewheelListener=t.mousewheelListener.bind(t),t}return function(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(e,n),o(e,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var n=this.getParentElement(this.scrollComponent);n.scrollTop=n.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var n=!1,e={get passive(){n=!0}};try{document.addEventListener("test",null,e),document.removeEventListener("test",null,e)}catch(t){}return n}},{key:"eventListenerOptions",value:function(){var n=this.props.useCapture;return this.isPassiveSupported()&&(n={useCapture:this.props.useCapture,passive:!0}),n}},{key:"setDefaultLoader",value:function(n){this.defaultLoader=n}},{key:"detachMousewheelListener",value:function(){var n=window;!1===this.props.useWindow&&(n=this.scrollComponent.parentNode),n.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var n=window;!1===this.props.useWindow&&(n=this.getParentElement(this.scrollComponent)),n.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(n){var e=this.props.getScrollParent&&this.props.getScrollParent();return null!=e?e:n&&n.parentNode}},{key:"filterProps",value:function(n){return n}},{key:"attachScrollListener",value:function(){var n=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&n){var e=window;!1===this.props.useWindow&&(e=n),e.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),e.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(n){1!==n.deltaY||this.isPassiveSupported()||n.preventDefault()}},{key:"scrollListener",value:function(){var n=this.scrollComponent,e=window,t=this.getParentElement(n),o=void 0;if(this.props.useWindow){var i=document.documentElement||document.body.parentNode||document.body,r=void 0!==e.pageYOffset?e.pageYOffset:i.scrollTop;o=this.props.isReverse?r:this.calculateOffset(n,r)}else o=this.props.isReverse?t.scrollTop:n.scrollHeight-t.scrollTop-t.clientHeight;o<Number(this.props.threshold)&&n&&null!==n.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=t.scrollHeight,this.beforeScrollTop=t.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(n,e){return n?this.calculateTopPosition(n)+(n.offsetHeight-e-window.innerHeight):0}},{key:"calculateTopPosition",value:function(n){return n?n.offsetTop+this.calculateTopPosition(n.offsetParent):0}},{key:"render",value:function(){var n=this,e=this.filterProps(this.props),t=e.children,o=e.element,i=e.hasMore,a=(e.initialLoad,e.isReverse),s=e.loader,c=(e.loadMore,e.pageStart,e.ref),l=(e.threshold,e.useCapture,e.useWindow,e.getScrollParent,function(n,e){var t={};for(var o in n)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}(e,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));l.ref=function(e){n.scrollComponent=e,c&&c(e)};var u=[t];return i&&(s?a?u.unshift(s):u.push(s):this.defaultLoader&&(a?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),r.default.createElement(o,l,u)}}]),e}(i.Component);c.propTypes={children:a.default.node.isRequired,element:a.default.node,hasMore:a.default.bool,initialLoad:a.default.bool,isReverse:a.default.bool,loader:a.default.node,loadMore:a.default.func.isRequired,pageStart:a.default.number,ref:a.default.func,getScrollParent:a.default.func,threshold:a.default.number,useCapture:a.default.bool,useWindow:a.default.bool},c.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},e.default=c,n.exports=e.default},246:function(n,e,t){n.exports=t(57761)},15451:function(n){var e="undefined"!==typeof window?window:{},t="undefined"!==typeof document?document:{documentElement:{}},o="undefined"===typeof e.pageYOffset?t.documentElement:null;n.exports=function(){return o||(o=function(){var n=window.pageYOffset;return document.documentElement.scrollTop=n+1,window.pageYOffset>n?(document.documentElement.scrollTop=n,document.documentElement):document.scrollingElement||document.body}())}},67339:function(n){var e=new Error("Element already at target scroll position"),t=new Error("Scroll cancelled"),o=Math.min,i=Date.now;function r(n){return function(r,c,l,u){"function"==typeof(l=l||{})&&(u=l,l={}),"function"!=typeof u&&(u=s);var d=i(),p=r[n],f=l.ease||a,h=isNaN(l.duration)?350:+l.duration,v=!1;return p===c?u(e,r[n]):requestAnimationFrame((function e(a){if(v)return u(t,r[n]);var s=i(),l=o(1,(s-d)/h),m=f(l);r[n]=m*(c-p)+p,l<1?requestAnimationFrame(e):requestAnimationFrame((function(){u(null,r[n])}))})),function(){v=!0}}}function a(n){return.5*(1-Math.cos(Math.PI*n))}function s(){}n.exports={left:r("scrollLeft"),top:r("scrollTop")}},11742:function(n){n.exports=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var e=document.activeElement,t=[],o=0;o<n.rangeCount;o++)t.push(n.getRangeAt(o));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return n.removeAllRanges(),function(){"Caret"===n.type&&n.removeAllRanges(),n.rangeCount||t.forEach((function(e){n.addRange(e)})),e&&e.focus()}}}}]);